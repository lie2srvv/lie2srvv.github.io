<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>lie2srvv</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
*{box-sizing:border-box;}
body{
  margin:0; min-height:100vh; background: radial-gradient(circle at top,#2a2a2a,#0f0f0f); 
  color:#f2f2f2; font-family:Arial,sans-serif; display:flex; justify-content:center; align-items:flex-start; padding:20px; overflow:hidden;
}
canvas#snow, canvas#draw{position:fixed; inset:0; z-index:0;}
.card{
  position:relative; z-index:1; background: rgba(255,255,255,0.06); backdrop-filter: blur(14px);
  border-radius:22px; padding:28px; max-width:420px; width:100%; box-shadow:0 15px 40px rgba(0,0,0,0.6);
  display:flex; flex-direction:column; transition: height 0.3s ease;
}
h1{margin-top:0; font-size:23px; color:#ffffff;}
p{line-height:1.55; margin:6px 0; color:#d9d9d9;}
.city{font-style:italic; color:#bdbdbd; display:inline-block; width:80px;}
.divider{border-top:1px solid rgba(255,255,255,0.2); margin:15px 0; opacity:0; transition:opacity 0.5s;}
.links a{display:inline-block; margin-top:6px; color:#ffffff; text-decoration:none; font-weight:bold;}
.links a:hover{text-decoration:underline;}
#hint{opacity:0.5; font-size:12px; color:#fff; margin-top:8px; display:none;}
@media(max-width:480px){.card{padding:22px; border-radius:18px;} h1{font-size:20px;}}
</style>
</head>
<body>
<audio id="bgMusic" src="https://cdn.pixabay.com/download/audio/2022/08/25/audio_91f5b6c0d2.mp3?filename=calm-background-ambient-10848.mp3" loop autoplay></audio>
<audio id="typeSound" src="https://www.soundjay.com/keyboard/keyboard-1.mp3"></audio>
<audio id="clickSound" src="https://www.soundjay.com/button/button-16.mp3"></audio>

<canvas id="snow"></canvas>
<canvas id="draw"></canvas>

<div class="card" id="card">
  <h1 id="line1"></h1>
  <p id="line2"></p>
  <div class="divider" id="div1"></div>
  <p id="line3"></p>
  <p id="line4"></p>
  <p id="line5"></p>
  <div class="divider" id="div2"></div>
  <p id="line6"></p>
  <p id="line7"></p>
  <p id="line8"></p>
  <div class="divider" id="div3"></div>
  <div class="links" id="linksBlock"></div>
  <div id="hint">Q - —Å–±—Ä–æ—Å–∏—Ç—å —Ä–∏—Å—É–Ω–æ–∫</div>
</div>

<script>
// --- –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –ü–ö –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω ---
const isDesktop = window.matchMedia("(hover: hover) and (pointer: fine)").matches;

// --- –¢–µ–∫—Å—Ç –¥–ª—è –ø–µ—á–∞—Ç–∏ ---
const textLines = [
  {el:"line1", text:"–Ø lie2srvv (–¢–ì: @lie2srvv)"},
  {el:"line2", text:"–í –∂–∏–∑–Ω–∏ –∑–æ–≤—É—Ç –ê–ª–µ–∫—Å–∞–Ω–¥—Ä."},
  {el:"line3", text:"–ú–Ω–µ 16 –ª–µ—Ç, —É—á—É—Å—å –≤ 11 –∫–ª–∞—Å—Å–µ."},
  {el:"line4", text:"–ñ–∏–≤—É –≤ –†–æ—Å—Å–∏–∏, –≥. "},
  {el:"line5", text:"–£–≤–ª–µ–∫–∞—é—Å—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –ª—é–±–ª—é –≤—Å—è–∫–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ üå∏"},
  {el:"line6", text:"üí∏ –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞:"},
  {el:"line7", text:"üè¶ –°–ë–ü –≤ –ª—Å –¢–ì"},
  {el:"line8", text:""}
];

// --- –≠–ª–µ–º–µ–Ω—Ç –¥–ª—è –≥–æ—Ä–æ–¥–∞ ---
const citySpan = document.createElement("span"); 
citySpan.className="city"; 

// --- –ü–µ—á–∞—Ç–∞–µ–º —Ç–µ–∫—Å—Ç ---
let iLine=0, iChar=0;
function typeText(){
  if(iLine>=textLines.length){
    // –ü–æ—Å–ª–µ –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Å—ã–ª–∫–∏ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º
    const linksBlock = document.getElementById("linksBlock");
    linksBlock.innerHTML = `<p>–ú–æ–∏ —Å—Å—ã–ª–∫–∏:</p>
      <a href="https://t.me/lie2survive" target="_blank">üí¨ –¢–µ–ª–µ–≥—Ä–∞–º –ö–∞–Ω–∞–ª</a><br>
      <a href="https://github.com/lie2srvv" target="_blank">üïπÔ∏è Github</a>`;
    document.getElementById("div3").style.opacity = 1;
    return;
  }
  const el=document.getElementById(textLines[iLine].el);
  if(iChar<textLines[iLine].text.length){
    el.textContent+=textLines[iLine].text[iChar];
    document.getElementById("typeSound").play();
    iChar++;
    setTimeout(typeText,60);
  } else {
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –ø–ª–∞–≤–Ω–æ
    if(textLines[iLine].el=="line2") document.getElementById("div1").style.opacity=1;
    if(textLines[iLine].el=="line5") document.getElementById("div2").style.opacity=1;
    // –ü–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ —Å –≥–æ—Ä–æ–¥–æ–º –≤—Å—Ç–∞–≤–ª—è–µ–º span
    if(textLines[iLine].el=="line4"){
      el.appendChild(citySpan);
      setInterval(()=>{citySpan.textContent=randomCity();},50);
    }
    iLine++; iChar=0; setTimeout(typeText,200);
  }
}
typeText();

// --- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —à—É–º–∞ –≥–æ—Ä–æ–¥–∞ ---
function randomCity(){const c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()[]{}<>?/|\\~"; let s=""; for(let i=0;i<7;i++){s+=c.charAt(Math.floor(Math.random()*c.length));} return s;}

// --- –°–Ω–µ–≥ ---
const canvas = document.getElementById("snow");
const ctx = canvas.getContext("2d");
let w,h;
function resize(){ w=canvas.width=window.innerWidth; h=canvas.height=window.innerHeight; }
resize(); window.addEventListener("resize",resize);
const snowflakes = Array.from({length:120},()=>({x:Math.random()*w,y:Math.random()*h,r:Math.random()*2+0.5,s:Math.random()*0.6+0.2}));
function snow(){
  ctx.clearRect(0,0,w,h);
  ctx.fillStyle="rgba(255,255,255,0.8)";
  snowflakes.forEach(f=>{
    ctx.beginPath();
    ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
    ctx.fill();
    f.y+=f.s;
    if(f.y>h){f.y=-5; f.x=Math.random()*w;}
  });
  requestAnimationFrame(snow);
}
snow();

// --- –†–∏—Å–æ–≤–∞–Ω–∏–µ ---
const drawCanvas=document.getElementById("draw");
const dctx=drawCanvas.getContext("2d");
function resizeDraw(){drawCanvas.width=window.innerWidth; drawCanvas.height=window.innerHeight;}
resizeDraw(); window.addEventListener("resize",resizeDraw);
let drawing=false;
let lastX,lastY;

drawCanvas.addEventListener("mousedown",(e)=>{
  drawing=true;
  lastX=e.clientX; lastY=e.clientY;
  document.getElementById("clickSound").play();
  if(isDesktop) document.getElementById("hint").style.display="block";
});
drawCanvas.addEventListener("mouseup",()=>{drawing=false; lastX=null; lastY=null;});
drawCanvas.addEventListener("mousemove",e=>{
  if(drawing){
    if(lastX!=null && lastY!=null){
      dctx.strokeStyle="rgba(255,255,255,0.3)";
      dctx.lineWidth=6;
      dctx.lineCap="round";
      dctx.beginPath();
      dctx.moveTo(lastX,lastY);
      dctx.lineTo(e.clientX,e.clientY);
      dctx.stroke();
    }
    lastX=e.clientX; lastY=e.clientY;
  }
});

// --- –°–±—Ä–æ—Å Q –Ω–∞ –ª—é–±–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–µ
document.addEventListener("keydown",e=>{
  const key = e.key.toLowerCase();
  if(isDesktop && (key==="q" || key==="–π")){ // –∞–Ω–≥–ª–∏–π—Å–∫–∞—è –∏ —Ä—É—Å—Å–∫–∞—è
    dctx.clearRect(0,0,drawCanvas.width,drawCanvas.height);
    document.getElementById("hint").style.display="none";
  }
});

// --- –ö–ª–∏–∫ —ç—Ñ—Ñ–µ–∫—Ç ---
drawCanvas.addEventListener("click",()=>{document.getElementById("clickSound").play();});
</script>
</body>
</html>
